<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Atividade Aula 03 - AJAX</title>
    <script src="script.js"></script>
    <script src="jquery_3.5.1.min.js"></script>
</head>
<body>

    <div id="Conteudo">Conteúdo antigo</div>
    <button onclick="lerInfo()">Atualizar</button>

    <script>
        function lerInfo(){
            var divConteudo = document.getElementById("Conteudo");
            divConteudo.innerHTML = "Carregando..."
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function(){
                if( this.readyState == 4 && this.status == 200){
//                    var divConteudo = document.getElementById("Conteudo");
                    divConteudo.innerHTML = this.responseText
                }
                if( this.readyState == 4 && this.status == 404){
                    alert("Página não encontrada!");
                }
            };
            xhttp.open("GET", "informacoes.txt", true);
            xhttp.send();
        }
    </script>

    <hr>

    <div id="divValores">Sem Valores</div>
    <button onclick="lerValores()">Ler Valores</button>

    <script>
        function lerValores(){
            var divValores = document.getElementById("divValores");
            divValores.innerHTML = "Carregando..."
            var xhttp2 = new XMLHttpRequest();
            xhttp2.onreadystatechange = function(){
                if( this.readyState == 4 && this.status == 200){
                    divValores.innerHTML = this.responseText;
                }
            };
            xhttp2.open("GET", "servidor.php?txtValor=10", true);
            xhttp2.send();
        }
    </script>

    <hr>

    <div id="divContato">Meu Contato</div>
    <button onclick="lerContato()">Ler Contato</button>

    <script>
        function lerContato(){
            var divContato = document.getElementById("divContato");
            divValores.innerHTML = "Carregando..."
            var xhttp3 = new XMLHttpRequest();
            xhttp3.onreadystatechange = function(){
                if( this.readyState == 4 && this.status == 200){
                    divContato.innerHTML = this.responseText;
                }
            };
            xhttp3.open("GET", "servidor.php?txtNome=Érico&txtEmail=erico@mail.com", true);
            xhttp3.send();
        }
    </script>

</body>
</html>